<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Restaurante da V√≥ - Marmitas</title>
  <style>
    body {
      background: linear-gradient(135deg,#ffe066 0%,#ff595e 100%);
      margin: 0;
      font-family: 'Segoe UI', Arial, sans-serif;
      color: #511a1a;
      min-height: 100vh;
    }
    header {
      background: #ff595e;
      color: #fff9c0;
      padding: 28px 0 14px 0;
      text-align: center;
      border-bottom: 5px solid #ffe066;
    }
    header h1 { margin: 0 0 6px 0; }
    .slogan { font-size: 1.2em; color: #ffe066; }
    .container {
      max-width: 480px;
      margin: 22px auto 0 auto;
      background: #fff9c0;
      border-radius: 18px;
      padding: 24px 18px;
      box-shadow: 0 2px 12px #ff595e33;
    }
    .form-group { margin-bottom: 14px; }
    label { font-weight: bold; color: #ff595e; }
    select, button, input {
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #ffe066;
      background: #fff;
      font-size: 1em;
      margin-top: 5px;
      width: 100%;
      box-sizing: border-box;
    }
    button.add {
      background: #ff595e;
      color: #fff9c0;
      font-weight: bold;
      border: none;
      margin-top: 15px;
      font-size: 1.1em;
      transition: background .2s;
      cursor: pointer;
    }
    button.add:hover { background: #ff2e38;}
    .cart {
      margin-top: 28px;
      background: #fff3c1;
      padding: 16px 10px;
      border-radius: 12px;
      min-height: 68px;
    }
    .cart h2 { margin: 0 0 10px 0; color: #ff595e }
    .cart ul { list-style: none; padding: 0; margin: 0 0 10px 0;}
    .cart li { margin-bottom: 8px; }
    .cart .price { color: #ff595e; font-weight: bold;}
    .cart-total {
      font-weight: bold;
      font-size: 1.07em;
      color: #ff595e;
      text-align: right;
      margin-bottom: 10px;
    }
    .cart button {
      background: #25d366;
      color: #fff;
      border: none;
      font-size: 1.1em;
      padding: 10px 0;
      border-radius: 8px;
      width: 100%;
      font-weight: bold;
      cursor: pointer;
      transition: background .2s;
    }
    .cart button:hover { background: #128c7e;}
    .motiv {
      background: #ffe066;
      border-top: 5px solid #ff595e;
      margin-top: 38px;
      padding: 18px 0;
      font-size: 1.08em;
      text-align: center;
      color: #ff595e;
      border-radius: 0 0 14px 14px;
    }
    .motiv ul { padding-left: 0; margin: 10px 0 0 0; list-style: none;}
    .motiv li { margin: 0.4em 0; }
    .entrega-fields {
      margin-top: 8px;
      background: #fffbe9;
      padding: 10px 12px;
      border-radius: 8px;
      border: 1px dashed #ff595e;
    }
    .entrega-fields input { margin-bottom: 9px; }
    @media (max-width: 600px) {
      .container { max-width: 97vw; padding: 10vw 3vw;}
    }
  </style>
</head>
<body>
  <header>
    <h1>üç≤ Restaurante da V√≥</h1>
    <div class="slogan">Sabor de casa, carinho de v√≥.<br>Pe√ßa j√° sua marmita quentinha!</div>
  </header>
  <div class="container">
    <h2>Monte sua Marmita</h2>
    <div class="form-group">
      <label for="tamanho">Tamanho:</label>
      <select id="tamanho">
        <option value="P">P (R$ 20,00)</option>
        <option value="M">M (R$ 26,00)</option>
        <option value="G">G (R$ 28,00)</option>
      </select>
    </div>
    <div class="form-group">
      <label for="opcao">Prato:</label>
      <select id="opcao"></select>
    </div>
    <div class="form-group" id="subcat-group" style="display:none;">
      <label for="subcat">Op√ß√£o:</label>
      <select id="subcat"></select>
    </div>
    <button class="add" onclick="adicionarCarrinho()">Adicionar ao Carrinho</button>

    <div class="form-group" style="margin-top:30px;">
      <label for="tipoEntrega">Forma de recebimento:</label>
      <select id="tipoEntrega" onchange="mostrarEntregaCampos()">
        <option value="Retirada">Retirada</option>
        <option value="Entrega">Entrega</option>
      </select>
    </div>
    <div id="entregaFields" class="entrega-fields" style="display:none;">
      <label for="rua">Rua:</label>
      <input type="text" id="rua" placeholder="Nome da Rua">
      <label for="numero">N√∫mero:</label>
      <input type="text" id="numero" placeholder="N√∫mero">
      <label for="bairro">Bairro:</label>
      <input type="text" id="bairro" placeholder="Bairro">
    </div>

    <div class="cart" id="cart">
      <h2>üõí Seu Carrinho</h2>
      <div id="cart-list">
        Seu carrinho est√° vazio! Experimente o sabor da v√≥ üòä
      </div>
    </div>
  </div>
  <div class="motiv">
    <div><b>Por que pedir conosco?</b></div>
    <ul>
      <li>‚ù§Ô∏è Marmita caseira, feita com muito amor!</li>
      <li>‚úîÔ∏è Ingredientes fresquinhos</li>
      <li>‚≠ê Atendimento r√°pido pelo WhatsApp</li>
      <li>üòã Satisfa√ß√£o garantida!</li>
    </ul>
    <div style="font-size:.95em;margin-top:12px;color:#cc5c00;">
      Site feito com carinho para o Restaurante da V√≥!
    </div>
  </div>
  <script>
    // Op√ß√µes e subop√ß√µes
    const OPTIONS = [
      { name: "Fil√© de Frango", sub: ["Grelhado", "Milanesa", "Parmegiana"] },
      { name: "Bife", sub: ["Grelhado", "Milanesa", "Parmegiana"] },
      { name: "Calabresa acebolada", sub: [] },
      { name: "Omelete Recheado", sub: [] },
      { name: "Panqueca", sub: ["Carne", "Pizza"] }
    ];
    const PRICES = { P: 20, M: 26, G: 28 };

    // Carregar op√ß√µes principais
    const opcaoSelect = document.getElementById('opcao');
    OPTIONS.forEach((opt, idx) => {
      let o = document.createElement('option');
      o.value = idx;
      o.textContent = opt.name;
      opcaoSelect.appendChild(o);
    });

    // Subcategorias din√¢micas
    const subcatGroup = document.getElementById('subcat-group');
    const subcatSelect = document.getElementById('subcat');
    function atualizarSubcat() {
      const idx = +opcaoSelect.value;
      const subs = OPTIONS[idx].sub;
      subcatSelect.innerHTML = '';
      if (subs.length > 0) {
        subs.forEach(s => {
          let o = document.createElement('option');
          o.value = s;
          o.textContent = s;
          subcatSelect.appendChild(o);
        });
        subcatGroup.style.display = '';
      } else {
        subcatGroup.style.display = 'none';
      }
    }
    opcaoSelect.addEventListener('change', atualizarSubcat);
    atualizarSubcat();

    // Carrinho
    let cart = [];
    function adicionarCarrinho() {
      const tamanho = document.getElementById('tamanho').value;
      const idx = +opcaoSelect.value;
      const prato = OPTIONS[idx].name;
      let subcat = '';
      if (OPTIONS[idx].sub.length > 0) subcat = subcatSelect.value;
      cart.push({ tamanho, prato, subcat, price: PRICES[tamanho] });
      atualizarCart();
    }

    function atualizarCart() {
      const cartList = document.getElementById('cart-list');
      if (cart.length === 0) {
        cartList.innerHTML = 'Seu carrinho est√° vazio! Experimente o sabor da v√≥ üòä';
        return;
      }
      let html = '<ul>';
      cart.forEach((item, i) => {
        html += `<li><b>Marmita ${item.tamanho} - ${item.prato}${item.subcat ? ' ('+item.subcat+')' : ''}</b> <span class="price">R$ ${item.price.toFixed(2)}</span> <a style="color:#d00;cursor:pointer;" title="Remover" onclick="removerCarrinho(${i})">‚úñÔ∏è</a></li>`;
      });
      html += '</ul>';
      let total = cart.reduce((a,b)=>a+b.price,0);
      html += `<div class="cart-total">Total: R$ ${total.toFixed(2)}</div>`;
      html += `<button onclick="enviarWhats()">Finalizar Pedido no WhatsApp</button>`;
      cartList.innerHTML = html;
    }

    function removerCarrinho(idx) {
      cart.splice(idx,1);
      atualizarCart();
    }

    // Entrega ou retirada
    function mostrarEntregaCampos() {
      const tipo = document.getElementById('tipoEntrega').value;
      document.getElementById('entregaFields').style.display = (tipo === 'Entrega') ? '' : 'none';
    }

    // Enviar para WhatsApp
    function enviarWhats() {
      if (!cart.length) return;
      const tipo = document.getElementById('tipoEntrega').value;
      let entregaInfo = '';
      if (tipo === 'Entrega') {
        const rua = document.getElementById('rua').value.trim();
        const numero = document.getElementById('numero').value.trim();
        const bairro = document.getElementById('bairro').value.trim();
        if (!rua || !numero || !bairro) {
          alert("Por favor, preencha Rua, N√∫mero e Bairro para entrega!");
          return;
        }
        entregaInfo = `\n\nEntrega em:\nRua: ${rua}\nN√∫mero: ${numero}\nBairro: ${bairro}`;
      } else {
        entregaInfo = "\n\nRetirada no restaurante";
      }
      const numeroWpp = "5511976672789"; // <-- Troque para o n√∫mero da v√≥!
      let msg = `Ol√° V√≥! Quero pedir:\n\n`;
      cart.forEach((item,i) => {
        msg += `${i+1}. Marmita ${item.tamanho} - ${item.prato}${item.subcat?' ('+item.subcat+')':''} - R$ ${item.price.toFixed(2)}\n`;
      });
      let total = cart.reduce((a,b)=>a+b.price,0);
      msg += `\nTotal: R$ ${total.toFixed(2)}`;
      msg += entregaInfo;
      window.open(`https://wa.me/${numeroWpp}?text=${encodeURIComponent(msg)}`,'_blank');
    }
  </script>
</body>
</html>
